.navbar.navbar-default(ng-controller='NavBarCtrl')

  var(ng-init='model= #{JSON.stringify(model)}')
  link(rel='stylesheet', ng-href="{{theme}}", ng-if='theme')

  .navbar-header
    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-responsive-collapse')
      span.icon-bar
      span.icon-bar
      span.icon-bar
    a.navbar-brand(href='/') Deck tools
  .navbar-collapse.collapse.navbar-responsive-collapse
    ul.nav.navbar-nav(ng-show='resources.length')
      li.dropdown.active
        a.dropdown-toggle#resourcesLink(href='#', data-toggle='dropdown')
          | Resources 
          b.caret
        ul.dropdown-menu
          li(ng-repeat='r in resources')
            a(ng-click='setResource(r)', ng-bind='r')

    form.navbar-form.navbar-left.ng-cloack(ng-if='model')
      input.form-control.col-lg-8.ng-cloak(ng-model="$parent.search", type='text', placeholder='Search in {{model}}')
    ul.nav.navbar-nav.navbar-right
      li.dropdown(ng-show='resources.length')
        a.dropdown.active(ng-click='logout()', ng-if='resources.length') Logout
    ul.nav.navbar-nav.navbar-right
      li.dropdown
        a.dropdown-toggle(href='#', data-toggle='dropdown')
          | Theme selector 
          b.caret
        ul.dropdown-menu
          li(ng-repeat='t in themes')
            a(ng-click='setTheme(t)')
              span(ng-bind='t.name')
          li.divider
          li
            a(ng-click='delTheme()') Default
